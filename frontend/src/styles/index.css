@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  body {
    @apply bg-propertree-cream text-propertree-dark font-sans;
    overflow-x: hidden;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply text-propertree-dark font-semibold;
  }

  * {
    min-width: 0;
  }

  img,
  video,
  canvas,
  svg,
  iframe {
    max-width: 100%;
    height: auto;
  }

  @media (max-width: 640px) {
    html {
      font-size: 15px;
    }
  }

  @media (max-width: 480px) {
    html {
      font-size: 14px;
    }
  }
}

@layer components {
  /* Landing hero: shift background up so map pins don't sit behind the filter card on common laptop viewports */
  .landing-hero {
    background-position: center calc(-1 * clamp(70px, 10vh, 160px));
  }

  @media (min-width: 768px) {
    .landing-hero {
      background-position: center calc(-1 * clamp(90px, 12vh, 220px));
    }
  }

  @media (min-width: 1024px) {
    .landing-hero {
      background-position: center calc(-1 * clamp(110px, 12vh, 260px));
    }
  }

  .card-media {
    height: 14rem;
  }

  .detail-hero {
    height: 500px;
  }

  .detail-thumb {
    height: 6rem;
  }

  @media (max-width: 1024px) {
    .card-media {
      height: clamp(11.5rem, 28vw, 13.5rem);
    }

    .detail-hero {
      height: clamp(360px, 50vw, 480px);
    }
  }

  @media (max-width: 768px) {
    .card-media {
      height: clamp(10.5rem, 38vw, 12.5rem);
    }

    .detail-hero {
      height: clamp(280px, 60vw, 420px);
    }

    .detail-thumb {
      height: 5rem;
    }
  }

  @media (max-width: 480px) {
    .card-media {
      height: clamp(9.5rem, 50vw, 11.5rem);
    }

    .detail-hero {
      height: clamp(220px, 70vw, 360px);
    }

    .detail-thumb {
      height: 4.5rem;
    }
  }

  /* Custom scrollbar */
  .custom-scrollbar::-webkit-scrollbar {
    @apply w-2 h-2;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-gray-100 rounded-full;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-propertree-green rounded-full hover:bg-propertree-green-600;
  }

  /* React DatePicker custom styles */
  .react-datepicker-wrapper {
    @apply w-full;
  }

  .react-datepicker__input-container input {
    @apply w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-propertree-green;
  }

  .react-datepicker {
    @apply border border-gray-200 rounded-lg shadow-lg;
  }

  .react-datepicker__header {
    @apply bg-propertree-green text-white rounded-t-lg;
  }

  .react-datepicker__current-month {
    @apply text-white font-semibold;
  }

  .react-datepicker__day-name {
    @apply text-white font-medium;
  }

  /* stronger specificity to override react-datepicker defaults */
  .react-datepicker__day.react-datepicker__day--disabled {
    position: relative;
    @apply cursor-not-allowed;
    color: rgba(55,65,81,1) !important; /* gray-700 */
    opacity: 1 !important;
    filter: none !important;
  }

  .react-datepicker__day.react-datepicker__day--disabled::after {
    content: "";
    position: absolute;
    left: 12%;
    right: 12%;
    top: 50%;
    height: 1px;
    background-color: rgba(107,114,128,0.9); /* gray-500-ish line */
    transform: translateY(-50%);
    pointer-events: none;
  }

  .react-datepicker__day--selected {
    @apply bg-propertree-green text-white;
  }

  .react-datepicker__day:hover:not(.react-datepicker__day--disabled):not(.react-datepicker__day--selected) {
    @apply bg-propertree-green/20;
  }
}
